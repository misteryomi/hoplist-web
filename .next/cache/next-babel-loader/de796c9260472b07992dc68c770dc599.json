{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Alert, Form, Row, Col, FormGroup, Label, Input } from 'reactstrap';\nimport { useToasts } from 'react-toast-notifications';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Icon from './Icon';\nimport { faTwitter, faFacebook, faWhatsapp, faInstagram, faLinkedin } from '@fortawesome/free-brands-svg-icons';\nimport Router from 'next/router';\nimport axios from '../utils/axios';\nvar shareOptions = [{\n  name: 'Facebook',\n  icon: faFacebook,\n  link: 'http://facebook.com/#'\n}, {\n  name: 'Twitter',\n  icon: faTwitter,\n  link: '#'\n}, {\n  name: 'WhatsApp',\n  icon: faWhatsapp,\n  link: '#'\n}, {\n  name: 'Instagram',\n  icon: faInstagram,\n  link: '#'\n}, {\n  name: 'LinkedIn',\n  icon: faLinkedin,\n  link: '#'\n}];\n\nvar JoinModal = function JoinModal(props) {\n  var buttonLabel = props.buttonLabel,\n      className = props.className;\n\n  var _useState = useState(false),\n      modal = _useState[0],\n      setModal = _useState[1];\n\n  var _useState2 = useState(''),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  var _useState3 = useState(''),\n      lastName = _useState3[0],\n      setLastName = _useState3[1];\n\n  var _useState4 = useState(''),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      phone = _useState5[0],\n      setPhone = _useState5[1];\n\n  var _useState6 = useState(false),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var handleCopy = function handleCopy() {\n    setModal(false);\n    addToast('Link copied successfully!', {\n      appearance: 'success',\n      autoDismiss: true\n    });\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var data, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setLoading(true);\n              data = {\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                phone: phone,\n                activityId: props.activity_id\n              };\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.post('/tickets', data);\n\n            case 6:\n              response = _context.sent;\n              setLoading(false);\n              console.log({\n                response: response\n              });\n              setModal(false);\n              addToast('Hooray! Successful!!', {\n                appearance: 'success',\n                autoDismiss: true\n              });\n              setTimeout(function () {\n                Router.push(\"/success?ticket=\".concat(response.data.data.ticket_id));\n              });\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](3);\n              setLoading(false);\n              console.log(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 14]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", null, __jsx(Button, {\n    color: \"danger\",\n    block: true,\n    onClick: toggle\n  }, buttonLabel), __jsx(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    className: className\n  }, __jsx(ModalHeader, {\n    toggle: toggle\n  }, __jsx(\"h3\", null, \"Join this Activity\")), __jsx(ModalBody, null, __jsx(\"small\", {\n    style: {\n      fontSize: 10\n    }\n  }, \"Your name will be used by your host to identify you and We'll use your email address to send you details of the activity\"), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(Form, {\n    action: \"#\",\n    method: \"post\",\n    onSubmit: handleSubmit\n  }, __jsx(Row, {\n    form: true\n  }, __jsx(Col, {\n    md: 6\n  }, __jsx(FormGroup, null, __jsx(Label, {\n    \"for\": \"email\"\n  }, \"First name *\"), __jsx(Input, {\n    type: \"text\",\n    name: \"first_name\",\n    id: \"email\",\n    onChange: function onChange(e) {\n      return setFirstName(e.target.value);\n    }\n  }))), __jsx(Col, {\n    md: 6\n  }, __jsx(FormGroup, null, __jsx(Label, {\n    \"for\": \"lastName\"\n  }, \"Last name *\"), __jsx(Input, {\n    type: \"text\",\n    name: \"last_name\",\n    id: \"lastName\",\n    onChange: function onChange(e) {\n      return setLastName(e.target.value);\n    }\n  })))), __jsx(Row, {\n    form: true\n  }, __jsx(Col, {\n    md: 6\n  }, __jsx(FormGroup, null, __jsx(Label, {\n    \"for\": \"email\"\n  }, \"Email *\"), __jsx(Input, {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    }\n  }))), __jsx(Col, {\n    md: 6\n  }, __jsx(FormGroup, null, __jsx(Label, {\n    \"for\": \"phone\"\n  }, \"Mobile Number (optional)\"), __jsx(Input, {\n    type: \"text\",\n    name: \"phone\",\n    id: \"phone\",\n    onChange: function onChange(e) {\n      return setPhone(e.target.value);\n    }\n  })))), __jsx(Button, {\n    disabled: loading,\n    block: true,\n    type: \"submit\",\n    color: \"danger\"\n  }, loading ? __jsx(\"i\", {\n    className: \"fa fa-spin fa-spinner\"\n  }) : 'Join Activity'))), __jsx(ModalFooter, null, __jsx(Alert, {\n    color: \"danger\"\n  }, __jsx(\"h4\", {\n    style: {\n      fontWeight: 'normal'\n    }\n  }, \"Note\"), __jsx(\"p\", null, \"By clicking \\\"Join Activity\\\", I accept the \", __jsx(\"a\", {\n    href: \"#\"\n  }, \"Terms of Service\"), \" and have read the \", __jsx(\"a\", {\n    href: \"#\"\n  }, \"Privacy Policy\"), \". I agree that Hoplist may \", __jsx(\"a\", {\n    href: \"#\"\n  }, \"share my information\"), \" with the Host.\")))));\n};\n\nexport default JoinModal;","map":null,"metadata":{},"sourceType":"module"}